<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc symrefs="yes"?> 
<rfc ipr='full3978'
     docName="draft-schoenw-nrmg-snmp-measure-01.txt"
     category="info">

  <!--
  $Id$
  -->

  <!--
      TODO:

      - Invite Aiko to co-edit this document?
      - Add a pattern which allows for IPv6 addresses
      - Update the snmpstat.pl script (it should process the csv output)
      - Add references to research papers where people make dubious
        assumptions about things like ipRouteTable.
  -->

  <front>

    <title>
      SNMP Traffic Measurements
    </title>
    
    <author initials="J." surname="Schoenwaelder"
            fullname="Juergen Schoenwaelder">
      <organization>International University Bremen</organization>
      <address>
        <postal>
          <street>Campus Ring 1</street>
          <city>28725 Bremen</city>
          <country>Germany</country>
        </postal>
        <phone>+49 421 200-3587</phone>
        <email>j.schoenwaelder@iu-bremen.de</email>
      </address>
    </author>

    <date month="March" year="2006"/>

      <area>Operations and Management</area>

      <workgroup>NMRG</workgroup>

      <keyword>Network Management</keyword>
      <keyword>Simple Network Management Protocol</keyword>
      <keyword>SNMP</keyword>

      <abstract>
        <t>
	  The Simple Network Management Protocol (SNMP) is widely
	  deployed to monitor, control and configure network elements.
	  Even though the SNMP technology is well documented, it
	  remains relatively unclear how SNMP is used in practice and
	  what typical SNMP usage patterns are.
	  
	  This document proposes to carry out large scale SNMP traffic
	  measurements in order to develop a better understanding how
	  SNMP is used in real world production networks. It describes
	  the motivation, the measurement approach, and the tools and
	  data formats needed to carry out such a study.
        </t>
      </abstract>

  </front>



  <middle>



    <section anchor="introduction" title="Introduction">

      <t>
        The Simple Network Management Protocol (SNMP) was introduced
        in the late 1980s <xref target="RFC1052"/> and has since then
        evolved to what is known today as the SNMP version 3 Framework
        (SNMPv3) <xref target="RFC3410"/>. While SNMP is widely
        deployed, it is not clear which features are being used, how
        SNMP usage differs in different types of networks or
        organizations, which information is frequently queried, and
        what typical SNMP interactions patterns are in real world
        production networks.
      </t>
      <t>
	There have been several publications in the recent past
	dealing with the performance of SNMP in general <xref
	target="Pat01"/>, the impact of SNMPv3 security <xref
	target="DSR01"/><xref target="CT04"/>, or the relative
	performance of SNMP compared to Web Services <xref
	target="PDMQ04"/><xref target="PFGL04"/>. While these papers
	are generally useful to better understand the impact of
	various design decisions and technologies, some of these
	papers lack a strong foundation because authors typically
	assume certain SNMP interaction patterns without having
	experimental evidence that the assumptions are correct. In
	fact, there are many speculations how SNMP is being used in
	real world production networks and how it performs, but no
	systematic measurements have been performed and published so
	far.
      </t>
      <t>
	Many authors use the ifTable of the IF-MIB <xref
	target="RFC2863"/> or the tcpConnTable of the TCP-MIB <xref
	target="RFC4022"/> as a starting point for their analysis and
	comparison. Despite the fact that there is no evidence that
	operations on these tables dominate SNMP traffic, it is even
	more unclear how these tables are read and which optimizations
	are done (or not done) by real world applications. It is also
	unclear what the actual traffic trade-off between periodic
	polling and more aperiodic bulk data retrieval is.
	Furthermore, we do not generally understand how much traffic
	is devoted to standardized MIB objects and how much traffic
	deals with proprietary MIB objects and whether the operation
	mix differs between these object classes or between different
	operational environments.
      </t>
      <t>
	This document describes an effort to collect SNMP traffic
	traces in order to find answers to some of these questions. It
	describes the tools that have been developed to allow network
	operators to collect traffic traces and to share them with
	research groups interested in analyzing and modeling network
	management interactions.
      </t>

    </section>

    <section title="Measurement Approach">

      <t>
	This section outlines the process of doing SNMP traffic
	measurements and analysis. The process consists of the
	following five basic steps:
      </t>
      <list style="numbers">
	<t>
	  Capture raw SNMP traffic traces in pcap capture files.
	</t>
	<t>
	  Convert the raw traffic traces into a structured machine and
	  human readable format. A suitable XML schema has been
	  developed for this purpose which captures all SNMP message
	  details. In addition, another more compact comma separated
	  values (CSV) format has been developed which only keeps key
	  information about SNMP messages.
	</t>
	<t>
	  Filter the converted traffic traces to hide or anonymize
	  sensitive information. While the filtering is conceptually a
	  separate step, filtering may actually be implemented as part
	  of the previous data conversion step for efficiency reasons.
	</t>
	<t>
	  Submit the filtered traffic traces to a repository from
	  where they can be retrieved and analyzed. Such a repository
	  may be public, it may be under the control of a research
	  group, or it may be under the control of a network operator
	  who commits to run analysis scripts on the repository on
	  behalf of researchers.
	</t>
	<t>
	  Analyze the traces by creating and executing analysis
	  scripts which extract and aggregate information.
	</t>
      </list>
      <t>
        Several of the steps listed above require the involvement of
	network operators supporting the SNMP measurement projects.
	In many cases, the filtered XML and CSV representation of the
	SNMP traces will be the binding interface between the
	researchers writing analysis scripts and the operators
	involved in the measurement activity. It is therefore
	important to have a well defined specification of these
	interfaces.
      </t>
      <t>
	This section provides some advice and concrete hints how the
	steps listed above can be carried out efficiently.  Some
	special tools have been developed to assist network operators
	and researchers so that the time spent on supporting SNMP
	traffic measurement projects is limited. The following
	sections describe the five steps and some tools in more
	detail.
      </t>

      <section title="Capturing Traffic Traces">
	<t>
	  Capturing SNMP traffic traces can be done using packet
	  sniffers such as <eref
	  target="http://www.tcpdump.org/">tcpdump</eref>, <eref
	  target="http://www.ethereal.com/">ethereal</eref>, or
	  similar applications.  Somce care must be taken to specify
	  pcap filter expressions that match the SNMP transport
	  endpoints used to carry SNMP traffic (typically 'udp and
	  (port 161 or port 162)').  Furthermore, it is necessary to
	  ensure that full packets are capture, that is packets are
	  not truncated (tcpdump option -s 0). Finally, it is
	  necessary to carefully select the placement of the capturing
	  probe within the network. Especially on bridged LANs, it is
	  important to ensure that all management traffic is captured
	  and that the probe has access to all virtual LANs carrying
	  management traffic. This usually requires to place the
	  probe(s) close to the management system(s) and to configure
	  dedicated monitoring ports on bridged networks.
	</t>
	<t>
	  It is recommended to capture at least a full week of data.
	  Operators are encouraged to capture traces over even longer
	  periods of time. Tools such as <eref
	  target="http://www.tcpdump.org/">tcpslice</eref> or <eref
	  target="http://indev.insu.com/Fwctl/pcapmerge.html">pcapmerge</eref>
	  can be used to merge or split pcap trace files as needed.
        </t>
	<t>
	  It is important to note that the raw pcap files should be
	  kept in stable storage (e.g., compressed and encrypted on a
	  CD ROM or DVD). To verify measurements, it might be
	  necessary to go back to the original pcap files if for
	  example bugs in the tools described below have been
	  detected and fixed.
	</t>
	<t>
	  For each captured trace, some meta information should be
	  recorded and made available. <xref target="form"/> contains
	  a simple ASCII form that is suggested to be used to describe
	  some basic meta data associated with a traffic trace.
	</t>
      </section>

      <section title="Converting Traffic Traces">
        <t>
	  Raw traces in pcap format must be converted into a format
	  that is (a) human readable and (b) machine readable for
	  efficient post-processing. Human readability makes it easy
	  for an operator to verify that no sensitive data is left in
	  a trace while machine readability is needed to efficiently
	  extract relevant information.
	</t>
	<t>
	  The natural choice here is to use an XML format since XML is
	  human as well as machine readable and there are many tools
	  and high-level scripting language application programming
	  interfaces (APIs) that can be used to process XML documents
	  and to extract meaningful information. However, it should be
	  noted that XML is also pretty verbose which increases
	  processing overhead. In particular, the usage of XML
	  streaming APIs is strongly suggested since APIs that require
	  an in memory representation of XML documents do not handle
	  large traces well.
	</t>
	<t>
	  <xref target="schema"/> of this document defines a <xref
	  target="OASISRNG"/> schema for representing SNMP traffic
	  traces in XML.  The schema captures all relevant details of
	  an SNMP messages in the XML format. Note that the XML format
	  retains some information about the original ASN.1/BER
	  encoding to support message size analysis.
	</t>
	<t>
	  A lightweight alternative to the full blown XML
	  representation based on comma separated values (CSV) is
	  defined in <xref target="csv"/>. The CSV format only
	  captures the most essential parts of SNMP messages and is
	  thus more compact and faster to process.
	</t>
	
	<t>
	  The <eref
	  target="https://subversion.eecs.iu-bremen.de/svn/schoenw/src/snmpdump">snmpdump</eref>
	  package has been developed to convert raw pcap files into
	  XML and CSV format. The snmpdump program reads either pcap
	  files or XML files as input and produces XML files or CSV
	  files as output. Specific elements can be filtered if that
	  is required to protect sensitive data. The current snmpdump
	  implementation is able to correctly deal with IPv4 fragments.
	</t>
      </section>

      <section title="Filtering Traffic Traces">
	<t>
	  Filtering sensitive data can be achieved by manipulating the
	  XML representation of an SNMP trace.  Standard XSLT
	  processors such as <eref
	  target="http://xmlsoft.org/XSLT/">xsltproc</eref> can be
	  used for this purpose. People familiar with Perl might also
	  be interested in using the <eref
	  target="http://www.cpan.org/">XML::LibXML</eref> Perl
	  package to manipulate XML documents from within Perl.
	</t>
	<t>
	  The snmpdump program can filter out sensitive information,
	  e.g., by deleting or clearing all XML elements whose name
	  matches a regular expression. Work is in progress to provide
	  data type specific anonymization transformations that
	  maintain lexicographic ordering for values that appear in
	  instance identifiers <xref target="HS06"/>.
	</t>
      </section>

      <section title="Storing Traffic Traces">
	<t>
	  The pcap traces together with the XML / CSV formatted traces
	  should be stored in a stable archive or repository. Such an
	  archive or repository might either be maintained by research
	  groups (e.g., the NMRG) or by network operators. It is of
	  key importance that captured traces are not lost or modified
	  as they may form the basis of future research projects and
	  may also be needed to verify published research results.
	  Access to the archive might be restricted to those who have
	  signed some sort of a non-disclosure agreement.
	</t>
	<t>
	  Lossless compression algorithms embodied in programs such as
	  gzip or bzip2 can be used to compress even large trace files
	  down to a size where they can be burned on DVDs for cheap
	  longterm storage.
	</t>
	<t>
	  It must be stressed again that it is important to keep the
	  original pcap traces in addition to the XML / CSV formatted
	  traces since the pcap traces are the most authentic source
	  of information.  Improvements in the tool chain may require
	  to go back to the original pcap traces and to rebuild all
	  intermediate formats from them.
	</t>
      </section>

      <section title="Processing Traffic Traces">
        <t>
	  Scripts that analyze traffic traces must be verified for
	  correctness. Ideally, all scripts used to analyze traffic
	  traces would be publically accessible so that third parties
	  can verify them. Furthermore, sharing scripts will enable
	  other parties to repeat an analysis on other traffic traces
	  and to extend such analysis scripts. A common versioned
	  repository for analysis scripts might be useful to
	  establish.
	</t>
	<t>
	  Due to the availability of XML parsers and the simplicity of
	  the CSV format, trace files can be processed with tools
	  written in almost any programming language. However, in
	  order to facilitate a common vocabulary and to allow
	  operators to easily read scripts they execute on trace
	  files, it is suggested that analysis scripts are written in
	  the Perl programming language using the <eref
	  target="http://www.cpan.org/">XML::LibXML</eref> Perl
	  package to read the XML format of the trace files. Using a
	  scripting language such as Perl instead of system
	  programming languages such as C or C++ has the advantage to
	  reduce development time and to make scripts more accessible
	  to operators who may want to verify scripts before running
	  them on trace files which potentially contain sensitive
	  data.
	</t>
	<t>
	  <xref target="snmpstat"/> show a simple Perl script which
	  computes some summary statistics.
	</t>
	<t>
	  It should be noted here that the snmpdump tool provides an
	  API to process SNMP messages in C/C++. While the coding of
	  trace analysis programs in C/C++ should in general be
	  avoided for code readability, verifiability and portability
	  reasons, using C/C++ might be the only option to deal with
	  very large traces efficiently.
	</t>
      </section>

    </section>

    <section anchor="analysis" title="Analysis of Traffic Traces">

      <t>
        This section discusses several questions that can be answered
        by analyzing SNMP traffic traces. The questions raised in the
        following subsections are meant to be illustrative and no
        attempt has been made to provide a complete list.
      </t>

        <section title="Basic Statistics">
	  <t>
	    Basic statistics cover things such as the SNMP protocol
	    versions used or the protocol operations used in a traffic
	    trace. In addition, a rough classification of the data
	    manipulated into 'standardized', 'proprietary', and
	    'experimental' can be done. <xref target="snmpstat"/>
	    contains a simple analysis script deriving some of these
	    very basic statistics from a traffic trace.
	  </t>
	</section>

        <section title="Periodic vs. Aperiodic Traffic">
	  <t>
	    SNMP is used to periodically poll devices as well as to
	    retrieve information on request of an operator or
	    application. The periodic polling leads to periodic
	    traffic patterns while the on demand information retrieval
	    causes more aperiodic traffic patterns. It is worthwhile to
	    understand what the relationship is between the amount of
	    periodic and aperiodic traffic. In addition, it will be
	    interesting to research whether there are multiple levels
	    of periodicity at different time scales.
	  </t>
	</section>

	<section title="Message Size and Latency Distributions">
	  <t>
	    SNMP messages are size constrained by the transport
	    mappings used and the buffers provided by the SNMP
	    engines. For the further evolution of the SNMP framework,
	    it would be useful to know what the actual message size
	    distributions are. In addition, it would be useful to
	    understand the latency distributions, especially the
	    distribution of the processing times by SNMP command
	    responders. Some SNMP implementations approximate
	    networking delays by measuring request-response times and
	    it would be useful to understand to what extent this is a
	    viable approach.
	  </t>
	</section>

	<section title="Concurrency Levels">
	  <t>
	    SNMP allows management stations to retrieve information
	    from multiple agents concurrently. It will be interesting
	    to identify what the typical concurrency level is that can
	    be observed on production networks or whether management
	    applications prefer more sequential ways of retrieving
	    data.
	  </t>
	</section>

        <section title="Table Retrieval Approaches">
	  <t>
	    Tables can be read in several different ways. The simplest
	    and most inefficient approach is to retrieve tables
	    cell-by-cell in column-by-column order. More advanced
	    approaches try to read tables row-by-row or even
	    multiple-rows-by-multiple-rows. In addition, the retrieval
	    of index elements can be suppressed in most cases. It will
	    be useful to know which of these approaches are actually
	    used on production networks.
	  </t>
        </section>

        <section title="Trap-Directed Polling - Myths or Reality?">
          <t>
	    SNMP is built around a concept called trap-directed
	    polling.  Management applications are responsible to
	    periodically poll SNMP agents to determine their
	    status. SNMP agents can in addition send traps to notify
	    SNMP managers about events so that SNMP managers can adopt
	    their polling strategy and basically react faster than
	    normal polling would allow to do.
	  </t>
	  <t>
	    Analysis of SNMP traffic traces can identity whether
	    trap-directed polling is actually deployed. In particular,
	    the question that should be addressed is whether SNMP
	    notifications lead to changes in the short-term polling
	    behavior of management stations. In particular, it should
	    be investigated to what extent SNMP managers use automated
	    procedures to track down the meaning of the event conveyed
	    by an SNMP notification.
	  </t>
        </section>

        <section title="Popular MIB Modules">
	  <t>
	    An analysis of object identifier prefixes can identify the
	    most popular MIB modules and the most important object
	    types or notification types defined by these modules. Such
	    information would be very valuable for the further
	    maintenance and development of these and related MIB
	    modules.
	  </t>
        </section>

        <section title="Usage of Obsolete Objects">
	  <t>
	    Several objects from the early days have been obsoleted
	    because they cannot properly represent today's networks. A
	    typical example is the ipRouteTable which was obsoleted
	    because it was not able to represent classless routing,
	    introduced and deployed on the Internet in 1993. Some of
	    these obsolete objects are still mentioned in popular
	    publications as well as research papers. It will be
	    interesting to find out whether they are also still used
	    by management applications or whether management
	    applications have been updated to use the replacement
	    objects.
	  </t>
        </section>

        <section title="Encoding Length Distributions">
	  <t>
	    It will be useful to understand the encoding length
	    distributions for various data types. Assumption about
	    encoding length distributions are sometimes used to
	    estimate SNMP message sizes in order to meet transport and
	    buffer size constraints.
	  </t>
        </section>

        <section title="Counters and Discontinuities">
	  <t>
	    Counters can experience discontinuities <xref
	    target="RFC2578"/>. The default discontinuity indicator is
	    the sysUpTime scalar of the SNMPv2-MIB <xref
	    target="RFC3418"/>, which can also be used to detect
	    counter roll-overs. Some MIB modules introduce more
	    specific discontinuity indicators, e.g., the
	    ifCounterDiscontinuityTime of the IF-MIB <xref
	    target="RFC2863"/>. It will be interesting to study to
	    what extent these objects are actually used by management
	    applications to handle discontinuity events.
	  </t>
        </section>

        <section title="Spin Locks">
	  <t>
	    Cooperating command generators can use advisory locks to
	    coordinate their usage of SNMP write operations. The
	    snmpSetSerialNo scalar of the SNMPv2-MIB <xref
	    target="RFC3418"/> is the default course-grain
	    coordination object. It will be interesting to find out
	    whether there are command generators which coordinate
	    themselves using these spin locks.
	  </t>
        </section>

        <section title="Row Creation">
	  <t>
	    Row creation is an operation not natively supported by the
	    protocol operations. Instead, conceptual tables supporting
	    row creation typically provide a control column which uses
	    the RowStatus textual convention defined in the SNMPv2-TC
	    module. The RowStatus itself supports different row
	    creation modes, namely createAndWait (dribble-mode) and
	    createAndGo (one-shot mode).  In addition, different
	    approaches can be used to derive the instance identifier
	    if it does not have special semantics associated. It will
	    be useful to study which of the various row creation
	    approaches are actually used by management applications on
	    production networks.
	  </t>
        </section>

<!--
        <section title="Persistency">
	  <t>
	    xxx
	  </t>
        </section>
-->

    </section>

    <section title="Security Considerations">
      <t>
	SNMP traffic traces usually contain sensitive information. It
	is therefore necessary to (a) remove unneeded information and
	(b) to anonymize the remaining necessary information before
	traces are made available for analysis.
      </t>
      <t>
	Implementations that generate XML traces from raw pcap files
	should have an option to suppress values. Note that instance
	identifiers of tables also include values and it might
	therefore be necessary to suppress (parts of) the instance
	identifiers. Similarly, the packet and message headers
	typically contain sensitive information about the source and
	destination of SNMP messages as well as authentication
	information (community strings or user names).
      </t>
      <t>
	Anonymization techniques can be applied to keep more
	information in traces which could reveal sensitive
	information. When using anonymization, values should only be
	added when the underlying data type is known and an
	appropriate anonymization transformation is available
	(filter-in principle). For values appearing in instance
	identifiers, it is usually desirable to maintain the
	lexicographic order. Special anonymization transformations
	which preserve this property have been developed, although
	their anonymization strength is usually reduced compared to
	transformations that do not preserve lexicographic ordering
	<xref target="HS06"/>.
      </t>
    </section>

    <section title="Acknowledgements">
      <t>
        This document was influenced by discussions within the Network
        Management Research Group (NMRG). Special thanks to Remco van
        de Meent for writing the initial Perl script that lead to the
        script in <xref target="snmpstat"/> and Matus Harvan for his
        work on lexicographic order preserving anonymization
        transformations.  Aiko Pras contributed ideas to <xref
        target="analysis"/> while David Harrington helped to improve
        the readability of this document.
      </t>
      <t>
        Part of this work was funded by the European Commission under
        grant FP6-2004-IST-4-EMANICS-026854-NOE.
      </t>
    </section>

  </middle>



  <back>


    <references title="Normative References">

      <reference anchor="RFC2578">
        <front>
          <title>
            Structure of Management Information Version 2 (SMIv2)
          </title>
          <author initials="K." surname="McCloghrie" fullname="Keith McCloghrie">
            <organization>Cisco Systems, Inc.</organization>
          </author>
          <author initials="D." surname="Perkins" fullname="David Perkins">
            <organization>SNMPinfo</organization>
          </author>
          <author initials="J." surname="Schoenwaelder" fullname="Juergen Schoenwaelder">
            <organization>TU Braunschweig</organization>
          </author>
          <date month="April" year="1999"/>
        </front>
        <seriesInfo name="STD" value="58"/>
        <seriesInfo name="RFC" value="2578"/>
      </reference>

      <reference anchor="RFC3411">
        <front>
          <title>
            An Architecture for Describing Simple Network Management
            Protocol (SNMP) Management Frameworks
          </title>
          <author initials="D." surname="Harrington" fullname="David Harrington">
            <organization>Enterasys Networks</organization>
          </author>
          <author initials="R." surname="Presuhn" fullname="Randy Presuhn">
            <organization>BMC Software, Inc.</organization>
          </author>
          <author initials="B." surname="Wijnen" fullname="Bert Wijnen">
            <organization>Lucent Technologies</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="STD" value="62"/>
        <seriesInfo name="RFC" value="3411"/>
      </reference>

      <reference anchor="RFC3416">
        <front>
          <title>
            Version 2 of the Protocol Operations for the Simple 
            Network Management Protocol (SNMP)
          </title>
          <author initials="R." surname="Presuhn" fullname="Randy Presuhn">
            <organization>BMC Software, Inc.</organization>
          </author>
          <author initials="J." surname="Case" fullname="Jeff Case">
            <organization>SNMP Research, Inc.</organization>
          </author>
          <author initials="K." surname="McCloghrie" fullname="Keith McCloghrie">
            <organization>Cisco Systems, Inc.</organization>
          </author>
          <author initials="M." surname="Rose" fullname="Marshall Rose">
            <organization>Dover Beach Consulting, Inc.</organization>
          </author>
          <author initials="S." surname="Waldbusser" fullname="Steve Waldbusser">
            <organization>International Network Services</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="STD" value="62"/>
        <seriesInfo name="RFC" value="3416"/>
      </reference>

      <reference anchor="RFC3418">
        <front>
          <title>
            Management Information Base (MIB) for the
	    Simple Network Management Protocol (SNMP)
          </title>
          <author initials="R." surname="Presuhn" fullname="Randy Presuhn">
            <organization>BMC Software, Inc.</organization>
          </author>
          <author initials="J." surname="Case" fullname="Jeff Case">
            <organization>SNMP Research, Inc.</organization>
          </author>
          <author initials="K." surname="McCloghrie" fullname="Keith McCloghrie">
            <organization>Cisco Systems, Inc.</organization>
          </author>
          <author initials="M." surname="Rose" fullname="Marshall Rose">
            <organization>Dover Beach Consulting, Inc.</organization>
          </author>
          <author initials="S." surname="Waldbusser" fullname="Steve Waldbusser">
            <organization>International Network Services</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="STD" value="62"/>
        <seriesInfo name="RFC" value="3418"/>
      </reference>

      <reference anchor="OASISRNG">
        <front>
          <title>
            RELAX NG Specification
          </title>
          <author initials="J." surname="Clark" fullname="J. Clark">
            <organization>OASIS</organization>
          </author>
          <author initials="M." surname="Makoto" fullname="M. Makoto">
            <organization>OASIS</organization>
          </author>
          <date month="December" year="2001"/>
        </front>
        <seriesInfo name="OASIS" value="Committee Specification"/>
      </reference>

      <reference anchor="OASISRNC">
        <front>
          <title>
            RELAX NG Compact Syntax
          </title>
          <author initials="J." surname="Clark" fullname="J. Clark">
            <organization>OASIS</organization>
          </author>
          <date month="November" year="2002"/>
        </front>
        <seriesInfo name="OASIS" value="Committee Specification"/>
      </reference>

    </references>


    <references title="Informative References">

      <reference anchor="RFC1052">
        <front>
          <title>
            IAB Recommendations for the Development of
            Internet Network Management Standards
          </title>
          <author initials="V." surname="Cerf" fullname="V. Cerf">
            <organization>NRI</organization>
          </author>
          <date month="April" year="1998"/>
        </front>
        <seriesInfo name="RFC" value="1052"/>
      </reference>

      <reference anchor="RFC2011">
        <front>
          <title>
            SNMPv2 Management Information Base for the Internet 
            Protocol using SMIv2
          </title>
          <author initials="K." surname="McCloghrie" fullname="Keith McCloghrie">
            <organization>Cisco Systems</organization>
          </author>
          <date month="November" year="1996"/>
        </front>
        <seriesInfo name="RFC" value="2011"/>
      </reference>

      <reference anchor="RFC2863">
        <front>
          <title>
            The Interfaces Group MIB
          </title>
          <author initials="K." surname="McCloghrie" fullname="Keith McCloghrie">
            <organization>Cisco Systems</organization>
          </author>
          <author initials="F." surname="Kastenholz" fullname="Frank Kastenholz">
            <organization>Argon Networks</organization>
          </author>
          <date month="June" year="2000"/>
        </front>
        <seriesInfo name="RFC" value="2863"/>
      </reference>

      <reference anchor="RFC3410">
        <front>
          <title>
            Introduction and Applicability Statements for
            Internet Standard Management Framework
          </title>
          <author initials="J." surname="Case" fullname="J. Case">
            <organization>SNMP Research, Inc.</organization>
          </author>
          <author initials="R." surname="Mundy" fullname="R. Mundy">
            <organization>Network Associates Laboratories</organization>
          </author>
          <author initials="D." surname="Partain" fullname="D. Partain">
            <organization>Ericsson</organization>
          </author>
          <author initials="B." surname="Stewart" fullname="B. Stewart">
            <organization>Retired</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="RFC" value="3410"/>
      </reference>

      <reference anchor="RFC3430">
        <front>
          <title>
            Simple Network Management Protocol (SNMP) over Transmission 
	    Control Protocol (TCP) Transport Mapping
          </title>
          <author initials="J." surname="Schoenwaelder" fullname="Juergen Schoenwaelder">
            <organization>TU Braunschweig</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="RFC" value="3430"/>
      </reference>

      <reference anchor="RFC4022">
        <front>
          <title>
	    Management Information Base for the Transmission 
	    Control Protocol (TCP)
          </title>
          <author initials="R." surname="Raghunarayan" fullname="R. Raghunarayan">
            <organization>Cisco Systems</organization>
          </author>
          <date month="March" year="2005"/>
        </front>
        <seriesInfo name="RFC" value="4022"/>
      </reference>

      <reference anchor="PDMQ04">
        <front>
          <title>
            Comparing the Performance of SNMP and Web Services based Management
          </title>
          <author initials="A." surname="Pras" fullname="A. Pras">
            <organization>University of Twente</organization>
          </author>
          <author initials="T." surname="Drevers" fullname="T. Drevers">
            <organization>University of Twente</organization>
          </author>
          <author initials="R." surname="van de Meent" fullname="R. van de Meent">
            <organization>University of Twente</organization>
          </author>
          <author initials="D." surname="Quartel" fullname="D. Quartel">
            <organization>University of Twente</organization>
          </author>
          <date month="November" year="2004"/>
        </front>
        <seriesInfo name="IEEE electronic Transactions on Network and Service Management" value="1(2)"/>
      </reference>

      <reference anchor="Pat01">
        <front>
          <title>
            A Study of the Behaviour of the Simple Network Management Protocol
          </title>
          <author initials="C." surname="Pattinson" fullname="C. Pattinson">
            <organization></organization>
          </author>
          <date month="October" year="2001"/>
        </front>
        <seriesInfo name="Proc. 12th IFIP/IEEE Workshop on Distributed Systems: Operations and Management" value=""/>
      </reference>

      <reference anchor="DSR01">
        <front>
          <title>
            Implementation and Performance Analysis of SNMP on a TLS/TCP Base
          </title>
          <author initials="X." surname="Du" fullname="X. Du">
            <organization>University of Maryland</organization>
          </author>
          <author initials="M." surname="Shayman" fullname="M. Shayman">
            <organization>University of Maryland</organization>
          </author>
          <author initials="M." surname="Rozenblit" fullname="M. Rozenblit">
            <organization>TeraBurst Networks</organization>
          </author>
          <date month="May" year="2001"/>
        </front>
        <seriesInfo name="Proc. 7th IFIP/IEEE International Symposium on Integrated Network Management" value=""/>
      </reference>

      <reference anchor="CT04">
        <front>
	  <title>
	    Security Performance Analysis of SNMPv3 with Respect to SNMPv2c
	  </title>
          <author initials="A." surname="Corrente" fullname="A. Corrente">
            <organization>Cefriel</organization>
          </author>
          <author initials="L." surname="Tura" fullname="L. Tura">
            <organization>Cefriel</organization>
          </author>
	  <date month="April" year="2004"/>
	</front>
        <seriesInfo name="Proc. 2004 IEEE/IFIP Network Operations and 
	Management Symposium" value=""/>
      </reference>

      <reference anchor="PFGL04">
        <front>
          <title>
            On Management Technologies and the Potential of Web Services
          </title>
          <author initials="G." surname="Pavlou" fullname="G. Pavlou">
            <organization>University of Surrey</organization>
          </author>
          <author initials="P." surname="Flegkas" fullname="P. Flegkas">
            <organization>University of Surrey</organization>
          </author>
          <author initials="S." surname="Gouveris" fullname="S. Gouveris">
            <organization>University of Surrey</organization>
          </author>
          <author initials="A." surname="Liotta" fullname="A. Liotta">
            <organization>University of Surrey</organization>
          </author>
          <date month="July" year="2004"/>
        </front>
        <seriesInfo name="IEEE Communications Magazine" value="42(7)"/>
      </reference>

      <reference anchor="SM99">
        <front>
          <title>
            Bulk Transfers of MIB Data
          </title>
          <author initials="R." surname="Sprenkels" fullname="R. Sprenkels">
            <organization>Twente University</organization>
          </author>
          <author initials="J.P." surname="Martin-Flatin" fullname="J.P. Martin-Flatin">
            <organization>EPFL</organization>
          </author>
          <date month="March" year="1999"/>
        </front>
        <seriesInfo name="Simple Times" value="7(1)"/>
      </reference>

      <reference anchor="Mal02">
        <front>
          <title>
            GetBulk Worth Fixing
          </title>
          <author initials="M." surname="Malowidzki" fullname="M. Malowidzki">
            <organization>Military Communication Institute</organization>
          </author>
          <date month="December" year="2002"/>
        </front>
        <seriesInfo name="Simple Times" value="10(1)"/>
      </reference>

      <reference anchor="HS06">
        <front>
          <title>
            Prefix- and Lexicographical-order-preserving IP Address
            Anonymization
          </title>
          <author initials="M." surname="Harvan" fullname="M. Harvan">
            <organization>International University Bremen</organization>
          </author>
          <author initials="J." surname="Schoenwaelder" fullname="Juergen Schoenwaelder">
            <organization>TU Braunschweig</organization>
          </author>
          <date month="April" year="2006"/>
        </front>
        <seriesInfo name="IEEE/IFIP Network Operations and Management Symposium" value="NOMS 2006"/>
      </reference>

    </references>

    <section anchor="schema" title="RELAX NG Schema Definition">
      <t>
        The XML format has been designed to keep all information
	associated with SNMP messages. The format is specified in
	RELAX NG compact notation <xref target="OASISRNC"/>. Freely
	available tools such as <eref
	target="http://www.relaxng.org/">trang</eref> can be used to
	convert RELAX NG compact syntax to other XML schema notations.
      </t>
      <figure>
        <artwork>
	  <?rfc include='snmptrace.rnc'?>
	</artwork>
      </figure>
    </section>

    <section anchor="csv" title="CSV Format Definition">
      <t>
        The CSV format has been design to capture only the most
        relevant information about an SNMP message. The CSV format
	uses the following fields:
      </t>
      <list style="numbers">
        <t>
	  Time-stamp in the format seconds.microseconds since 1970,
	  for example "1137764769.425484".
        </t>
	<t>
          Source IP address in dotted quad notation (IPv4), for
	  example "127.0.0.1", or compact hexadecimal notation (IPv6),
	  for example "::1".
	</t>
	<t>
	  Source port number represented as a decimal number, for
	  example "4242".
	</t>
	<t>
          Destination IP address in dotted quad notation (IPv4), for
	  example "127.0.0.1", or compact hexadecimal notation (IPv6),
	  for example "::1".
	</t>
	<t>
	  Destination port number represented as a decimal number, for
	  example "161".
	</t>
	<t>
	  Size of the SNMP message (a decimal number) counted in
	  bytes, for example "123". The size excludes all transport,
	  network, and link-layer headers.
	</t>
	<t>
	  SNMP message version represented as a decimal number. The
	  version 0 stands for SNMPv1, 1 for SNMPv2c, and 3 for
	  SNMPv3, for example "3".
	</t>
	<t>
	  SNMP protocol operation indicated by one of the keywords
	  get-request, get-next-request, get-bulk-request, set-request,
	  trap, trap2, inform, response, report.
	</t>
	<t>
	  SNMP request-id in decimal notation, for example "1511411010".
	</t>
	<t>
	  SNMP error-status in decimal notation, for example "0".
	</t>
	<t>
	  SNMP error-index in decimal notation, for example "0".
	</t>
	<t>
	  Number of variable-bindings contained in the varbind-list in
	  decimal notation, for example "5".
	</t>
        <t>
	  Object names given as object identifiers in dotted decimal
	  notation, for example "1.3.6.1.2.1.1.3.0". Object names are
	  separated by commas.
	</t>
      </list>
    </section>

    <section anchor="snmpstat" title="Sample Perl Analysis Script">
      <t>
        [XXX] This script probably should go away since it does not
	scale at all. It seems that we can provide perhaps a series of
	simple scripts that operate on the CSV format to produce
	something meaningful.
      </t>
      <figure>
        <artwork>
	  <?rfc include='snmpstat.pl.xml'?>
	</artwork>
      </figure>
    </section>

    <section anchor="form" title="Trace Description Form">
      <t>
        The following ASCII form is suggested to keep track of meta
        information associated with a traffic trace.
      </t>
      <figure>
        <artwork>
Name:	      [name of the trace]
Network:      [name of the network]
Organization: [name of the organization operating the network]
Contact:      [name and email address of a contact person]
Start-Date:   [date in ISO date format]
End-Date:     [date in ISO date format]
Size:	      [size of the pcap trace in bytes]
Description:  [description, multiple lines with white space indentation]
        </artwork>
      </figure>
    </section>


  </back>
    

</rfc>

<!-- Local Variables:                                           -->
<!-- compile-command: "xml2rfc measure.xml"                     -->
<!-- ispell-local-dictionary: "american"                        -->
<!-- sgml-declaration: "/usr/lib/sgml/declaration/xml.decl"     -->
<!-- sgml-omittag:nil                                           -->
<!-- sgml-shorttag:t                                            -->
<!-- sgml-namecase-general:t                                    -->
<!-- sgml-minimize-attributes:nil                               -->
<!-- sgml-always-quote-attributes:t                             -->
<!-- sgml-indent-step:2                                         -->
<!-- sgml-indent-data:t                                         -->
<!-- sgml-parent-document:nil                                   -->
<!-- sgml-exposed-tags:nil                                      -->
<!-- sgml-local-catalogs:nil                                    -->
<!-- sgml-local-ecat-files:nil                                  -->
<!-- End:                                                       -->
